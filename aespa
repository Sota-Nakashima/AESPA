#!/bin/bash

readonly SCRIPT_NAME=${0##*/}
readonly VERSION=0.1.0

SCRIPT_DIR=$(cd $(dirname $0); pwd)

if [[ "$1" == "build" ]] ; then

    #acquire arguments
    args=${@:2}
    #build
    bash $SCRIPT_DIR/script/build.sh $args
    #deal with error 
    if [ $? -ne 0 ]; then
    exit 1
    fi

elif [[ "$1" == "run" ]] ; then

    #check command SSERAFIM
    if type "sserafim" > /dev/null 2>&1; then
        echo "Confirmed SSERAFIM..." 
    else
        echo "Not exist SSERAFIM. Please install and add path." 1>&2
        exit 1
    fi
    echo "run mode"
else
    printf '%s\n' "${SCRIPT_NAME}: please select \"build\" or \"run\"" 1>&2
fi
